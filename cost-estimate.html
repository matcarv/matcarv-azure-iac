<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MatCarv - Estimativa de Custos Azure</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        .summary {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }
        .total-cost {
            font-size: 3em;
            font-weight: bold;
            color: #e74c3c;
            margin: 10px 0;
        }
        .charts-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        .chart-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .cost-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .cost-table th, .cost-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .cost-table th {
            background-color: #3498db;
            color: white;
        }
        .cost-table tr:hover {
            background-color: #f5f5f5;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }
        .optimization {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üèóÔ∏è MatCarv - Estimativa de Custos Azure</h1>
        
        <div class="summary">
            <h2>üí∞ Custo Total Mensal Estimado</h2>
            <div class="total-cost">$127.50 USD</div>
            <p><strong>Regi√£o:</strong> East US | <strong>Moeda:</strong> USD | <strong>Per√≠odo:</strong> 30 dias</p>
        </div>

        <div class="charts-container">
            <div class="chart-box">
                <h3>üìä Distribui√ß√£o de Custos por Servi√ßo</h3>
                <canvas id="pieChart"></canvas>
            </div>
            <div class="chart-box">
                <h3>üìà Custos Mensais por Categoria</h3>
                <canvas id="barChart"></canvas>
            </div>
        </div>

        <h3>üí∏ Detalhamento de Custos por Recurso</h3>
        <table class="cost-table">
            <thead>
                <tr>
                    <th>Recurso</th>
                    <th>Tipo</th>
                    <th>SKU/Configura√ß√£o</th>
                    <th>Custo Mensal (USD)</th>
                    <th>% do Total</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>üöÄ AKS Cluster</td>
                    <td>Kubernetes</td>
                    <td>2x Standard_B2s (4GB RAM)</td>
                    <td>$58.40</td>
                    <td>45.8%</td>
                </tr>
                <tr>
                    <td>üóÑÔ∏è PostgreSQL Flexible Server</td>
                    <td>Database</td>
                    <td>B_Standard_B1ms + 32GB Storage</td>
                    <td>$24.50</td>
                    <td>19.2%</td>
                </tr>
                <tr>
                    <td>üåê NAT Gateway</td>
                    <td>Network</td>
                    <td>Standard + Data Processing</td>
                    <td>$32.85</td>
                    <td>25.8%</td>
                </tr>
                <tr>
                    <td>üì° Public IP</td>
                    <td>Network</td>
                    <td>Standard Static IP</td>
                    <td>$3.65</td>
                    <td>2.9%</td>
                </tr>
                <tr>
                    <td>üîç Log Analytics</td>
                    <td>Monitoring</td>
                    <td>PerGB2018 (5GB/m√™s)</td>
                    <td>$5.50</td>
                    <td>4.3%</td>
                </tr>
                <tr>
                    <td>üåê Virtual Network</td>
                    <td>Network</td>
                    <td>VNet + Subnets</td>
                    <td>$0.00</td>
                    <td>0.0%</td>
                </tr>
                <tr>
                    <td>üîí Private DNS Zone</td>
                    <td>DNS</td>
                    <td>Hosted Zone + Queries</td>
                    <td>$2.60</td>
                    <td>2.0%</td>
                </tr>
            </tbody>
        </table>

        <div class="optimization">
            <h3>üí° Oportunidades de Otimiza√ß√£o</h3>
            <ul>
                <li><strong>Reserved Instances:</strong> Economize at√© 30% com reservas de 1 ano para VMs do AKS</li>
                <li><strong>Auto-scaling:</strong> Configure HPA no AKS para reduzir custos em hor√°rios de baixo uso</li>
                <li><strong>Spot Instances:</strong> Use node pools spot para workloads n√£o cr√≠ticos (at√© 90% de economia)</li>
                <li><strong>Storage Optimization:</strong> Monitore uso do PostgreSQL e ajuste storage conforme necess√°rio</li>
            </ul>
        </div>

        <div class="warning">
            <h3>‚ö†Ô∏è Avisos Importantes</h3>
            <ul>
                <li>Custos podem variar baseado no uso real de CPU, mem√≥ria e tr√°fego de rede</li>
                <li>NAT Gateway cobra por GB processado - monitorar tr√°fego de sa√≠da</li>
                <li>Log Analytics cobra por GB ingerido - configurar reten√ß√£o adequada</li>
                <li>Pre√ßos baseados na regi√£o East US - podem variar em outras regi√µes</li>
                <li>Para estimativas precisas, use a <a href="https://calculator.aws" target="_blank">Calculadora Oficial do Azure</a></li>
            </ul>
        </div>
    </div>

    <script>
        // Gr√°fico de Pizza - Distribui√ß√£o de Custos
        const pieCtx = document.getElementById('pieChart').getContext('2d');
        new Chart(pieCtx, {
            type: 'pie',
            data: {
                labels: ['AKS Cluster', 'PostgreSQL', 'NAT Gateway', 'Log Analytics', 'Public IP', 'DNS Zone'],
                datasets: [{
                    data: [58.40, 24.50, 32.85, 5.50, 3.65, 2.60],
                    backgroundColor: [
                        '#3498db',
                        '#e74c3c',
                        '#f39c12',
                        '#2ecc71',
                        '#9b59b6',
                        '#1abc9c'
                    ]
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });

        // Gr√°fico de Barras - Custos por Categoria
        const barCtx = document.getElementById('barChart').getContext('2d');
        new Chart(barCtx, {
            type: 'bar',
            data: {
                labels: ['Compute', 'Database', 'Network', 'Monitoring'],
                datasets: [{
                    label: 'Custo Mensal (USD)',
                    data: [58.40, 24.50, 39.10, 5.50],
                    backgroundColor: [
                        '#3498db',
                        '#e74c3c',
                        '#f39c12',
                        '#2ecc71'
                    ]
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '$' + value;
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
